import{u as X,r as N,j as e,af as Z,aa as G,X as J,H as oe,aw as me,aE as he,aD as ge,ab as ee,aH as E,aV as S,y as I,a3 as se,aI as ae,aW as K,Z as W,aX as ue,v,Q as pe,aY as Y,q,aA as je,a7 as fe,K as be,aZ as Ne,E as Q}from"./vendor-react-NdMTiU_3.js";import{A as re,C as m,b as h,d as g,e as _,a as u,I as te,f as o,B as d}from"./dashboard-BRRSZ3Kr.js";import{K as M,S as $,a as U,b as H,c as B,d as c}from"./expenses-D7tWSJP3.js";const ve=[{title:"Sales",href:"/sales"}];function ye(){const{auth:O,sales:s,stats:t,flash:i}=X().props,T=O.user.role==="admin",p=new URLSearchParams(window.location.search),R=p.get("search")||"",A=p.get("date_filter")||"all",L=p.get("status_filter")||"all",z=parseInt(p.get("page")||"1"),[j,V]=N.useState(R),[r,l]=N.useState(A),[f,D]=N.useState(L),[b,P]=N.useState(z),le=a=>{V(a),P(1),v.get("/sales",{search:a,date_filter:r,status_filter:f,page:1},{preserveState:!0,preserveScroll:!0})},ne=a=>{l(a),P(1),v.get("/sales",{search:j,date_filter:a,status_filter:f,page:1},{preserveState:!0,preserveScroll:!0})},de=a=>{D(a),P(1),v.get("/sales",{search:j,date_filter:r,status_filter:a,page:1},{preserveState:!0,preserveScroll:!0})},y=a=>{P(a),v.get("/sales",{search:j,date_filter:r,status_filter:f,page:a},{preserveState:!0,preserveScroll:!0})},ce=a=>{window.open(`/receipts/${a}`,"_blank")},ie=async a=>{try{const n=await fetch(`/receipts/${a}/download`,{method:"GET",headers:{Accept:"text/html"}});if(!n.ok)throw new Error("Failed to download receipt");const F=await n.blob(),w=window.URL.createObjectURL(F),x=document.createElement("a");x.href=w,x.download=`receipt-${a}.html`,x.target="_blank",document.body.appendChild(x),x.click(),document.body.removeChild(x),setTimeout(()=>{window.URL.revokeObjectURL(w)},1e3),alert(`Receipt downloaded! To convert to PDF:
1. Open the HTML file in your browser
2. Press Ctrl+P (or Cmd+P on Mac)
3. Choose "Save as PDF" in the print dialog`)}catch(n){console.error("Failed to download receipt:",n),alert("Failed to download receipt. Please try again.")}},xe=()=>{const a=[],n=s?.last_page||1,F=s?.current_page||1;a.push(1);const w=Math.max(2,F-1),x=Math.min(n-1,F+1);w>2&&a.push("...");for(let k=w;k<=x;k++)k>1&&k<n&&a.push(k);return x<n-1&&a.push("..."),n>1&&a.push(n),a};return e.jsxs(re,{breadcrumbs:ve,children:[e.jsx(Z,{title:"Sales Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 sm:gap-6 overflow-x-auto rounded-xl p-3 sm:p-4 bg-gray-50 pb-24 sm:pb-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Sales Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:T?"Comprehensive sales analytics and transaction history":"Your sales performance overview"})]}),i?.success&&e.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Success!"}),e.jsx("div",{className:"mt-1 text-sm text-green-700",children:i.success})]})]})}),i?.error&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(J,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error!"}),e.jsx("div",{className:"mt-1 text-sm text-red-700",children:i.error})]})]})})]}),t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[e.jsx(M,{title:"Total Sales",value:t.totalSales,change:25,changeType:"increase",icon:oe,color:"orange",bgColor:"bg-orange-800",tooltip:"Total revenue generated from all completed sales transactions. This includes the sum of all items sold to customers."}),e.jsx(M,{title:"Total Orders",value:t.totalOrders,change:15,changeType:"increase",icon:me,color:"blue",bgColor:"bg-blue-800",format:"number",tooltip:"Total number of completed sales transactions. Each order represents a single customer purchase containing one or more items."}),e.jsx(M,{title:"Average Order Value",value:t.averageOrderValue,change:8,changeType:"increase",icon:he,color:"green",bgColor:"bg-green-800",tooltip:"Average amount spent per transaction. Calculated by dividing total sales by total number of orders."}),e.jsx(M,{title:"Today's Sales",value:t.todaySales,change:12,changeType:"increase",icon:ge,color:"blue",bgColor:"bg-gray-900",tooltip:"Total sales revenue generated in the last 24 hours. Shows current day performance."})]}),e.jsxs(m,{className:"bg-white border-0 shadow-sm",children:[e.jsxs(h,{className:"pb-3 sm:pb-4",children:[e.jsx(g,{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Search & Filter"}),e.jsx(_,{className:"text-gray-600",children:"Find and filter sales by date, manager, or search terms"})]}),e.jsx(u,{children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 lg:flex-row lg:items-center lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(te,{placeholder:"Search sales by ID, product, or manager...",value:j,onChange:a=>le(a.target.value),className:"pl-10 h-10 sm:h-11 text-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs($,{value:r,onValueChange:ne,children:[e.jsx(U,{className:"h-10 sm:h-11",children:e.jsx(H,{placeholder:"Date range"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Time"}),e.jsx(c,{value:"today",children:"Today"}),e.jsx(c,{value:"week",children:"This Week"}),e.jsx(c,{value:"month",children:"This Month"}),e.jsx(c,{value:"year",children:"This Year"})]})]})}),T&&e.jsx("div",{className:"w-full sm:w-48",children:e.jsxs($,{value:f,onValueChange:de,children:[e.jsx(U,{className:"h-10 sm:h-11",children:e.jsx(H,{placeholder:"Manager"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Managers"}),e.jsx(c,{value:"me",children:"My Sales"})]})]})})]})]})})]}),e.jsxs(m,{children:[e.jsx(h,{className:"pb-3 sm:pb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx(g,{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Recent Transactions"}),e.jsxs(_,{className:"text-gray-600",children:[s?.data.length||0," transaction",s?.data.length!==1?"s":""," found",s&&s.total>s.data.length&&e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(Showing ",s.data.length," of ",s.total,")"]})]})]}),s&&s.last_page>1&&e.jsxs("div",{className:"mt-3 sm:mt-0 text-sm text-gray-500",children:["Page ",s.current_page," of ",s.last_page]})]})}),e.jsx(u,{children:s&&s.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2 sm:space-y-3",children:s.data.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs sm:text-sm font-medium text-green-600",children:a.id})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:["Sale #",a.id]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 text-xs text-gray-500 mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(a.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:a.manager.name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsxs("span",{children:[a.sale_items.length," items"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:o(a.total_amount)}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:new Date(a.created_at).toLocaleTimeString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs(d,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>ce(a.id),children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"View"})]}),e.jsxs(d,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>ie(a.id),children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})]})]},a.id))}),s&&s.last_page>1&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsx("div",{className:"text-center sm:text-left",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-medium text-gray-900",children:(s.current_page-1)*s.per_page+1})," to ",e.jsx("span",{className:"font-medium text-gray-900",children:Math.min(s.current_page*s.per_page,s.total)})," of ",e.jsx("span",{className:"font-medium text-gray-900",children:s.total})," results"]})}),e.jsx("div",{className:"sm:hidden",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>y(s.current_page-1),disabled:s.current_page===1,className:"h-8 w-8 p-0 rounded-full hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-full px-3 py-1",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.current_page}),e.jsx("span",{className:"text-sm text-gray-500 mx-1",children:"of"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:s.last_page})]}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>y(s.current_page+1),disabled:s.current_page===s.last_page,className:"h-8 w-8 p-0 rounded-full hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(W,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>y(s.current_page-1),disabled:s.current_page===1,className:"h-8 px-3 text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-1 bg-gray-50 rounded-lg p-1",children:xe().map((a,n)=>e.jsx("div",{children:a==="..."?e.jsx("div",{className:"px-2 py-1 text-gray-500",children:e.jsx(ue,{className:"h-4 w-4"})}):e.jsx(d,{variant:a===s.current_page?"default":"ghost",size:"sm",onClick:()=>y(a),className:`h-7 w-7 p-0 rounded text-xs ${a===s.current_page?"bg-blue-600 text-white hover:bg-blue-700":"hover:bg-gray-100"}`,children:a})},n))}),e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>y(s.current_page+1),disabled:s.current_page===s.last_page,className:"h-8 px-3 text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx(W,{className:"h-4 w-4 ml-1"})]})]})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📊"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Sales Found"}),e.jsx("p",{className:"text-gray-500 text-sm max-w-sm",children:j?"Try adjusting your search filters":"No sales have been recorded yet"})]})})]})]})]})}const Te=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),we=[{title:"Admin Dashboard",href:"/admin-dashboard"},{title:"Manager Performance",href:"#"}];function ke(){const{auth:O,sales:s,stats:t,flash:i}=X().props;O.user;const[C,T]=N.useState(""),[p,R]=N.useState("all"),A=r=>{T(r),v.get(`/manager/${t.manager.id}`,{search:r,date_filter:p},{preserveState:!0,preserveScroll:!0})},L=r=>{R(r),v.get(`/manager/${t.manager.id}`,{search:C,date_filter:r},{preserveState:!0,preserveScroll:!0})},z=r=>{window.open(`/receipts/${r}`,"_blank")},j=async r=>{try{const l=await fetch(`/receipts/${r}/download`);if(l.ok){const f=await l.blob(),D=window.URL.createObjectURL(f),b=document.createElement("a");b.href=D,b.download=`receipt-${r}.pdf`,document.body.appendChild(b),b.click(),window.URL.revokeObjectURL(D),document.body.removeChild(b)}}catch(l){console.error("Failed to download receipt:",l)}},V=r=>{const l=[];return r.color&&l.push(r.color),r.size&&l.push(r.size),l.length>0?l.join(" - "):"Standard"};return e.jsxs(re,{breadcrumbs:we,children:[e.jsx(Z,{title:`${t.manager.name} - Manager Performance`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-8 overflow-x-auto rounded-xl p-6",children:[i?.success&&e.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(G,{className:"h-5 w-5 text-green-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Success!"}),e.jsx("div",{className:"mt-1 text-sm text-green-700 dark:text-green-300",children:i.success})]})]})}),i?.error&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(J,{className:"h-5 w-5 text-red-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error!"}),e.jsx("div",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:i.error})]})]})}),e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50 dark:from-purple-950 dark:via-indigo-950 dark:to-blue-950 border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-5 bg-[radial-gradient(circle_at_1px_1px,rgba(0,0,0,0.1)_1px,transparent_0)] bg-[length:20px_20px]"}),e.jsx("div",{className:"relative p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 text-white shadow-lg",children:e.jsx("span",{className:"text-2xl font-bold",children:t.manager.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:t.manager.name}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-1",children:"Manager Performance Analytics"}),e.jsxs("div",{className:"mt-3 flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsxs("span",{children:["Manager #",t.manager.id]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsxs("span",{children:[t.totalOrders," Orders"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsxs("span",{children:[o(t.averageOrderValue)," Avg. Order"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{href:"/admin-dashboard",children:e.jsxs(d,{variant:"outline",size:"lg",className:"border-gray-300 dark:border-gray-600",children:[e.jsx(je,{className:"mr-2 h-5 w-5"}),"Back"]})}),e.jsx(q,{href:`/users/${t.manager.id}`,children:e.jsxs(d,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:[e.jsx(S,{className:"mr-2 h-5 w-5"}),"View Profile"]})})]})]})})]}),e.jsxs(m,{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsxs(h,{children:[e.jsx(g,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Manager Information"}),e.jsx(_,{className:"text-gray-600 dark:text-gray-400",children:"Contact and identification details"})]}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-800",children:e.jsx(S,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Name"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.manager.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-800",children:e.jsx(S,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.manager.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100 dark:bg-green-800",children:e.jsx(Y,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Manager ID"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["#",t.manager.id]})]})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(m,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Total Revenue"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-800",children:e.jsx(fe,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})}),e.jsxs(u,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:o(t.totalSales)}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.totalOrders," ",t.totalOrders===1?"order":"orders"," processed"]})]})]}),e.jsxs(m,{className:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-950 dark:to-violet-950 border-purple-200 dark:border-purple-800",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Average Order"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-800",children:e.jsx(be,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})}),e.jsxs(u,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100 mb-2",children:o(t.averageOrderValue)}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Per transaction"})]})]}),e.jsxs(m,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Today's Sales"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100 dark:bg-green-800",children:e.jsx(E,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})}),e.jsxs(u,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100 mb-2",children:o(t.todaySales)}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"24 hour period"})]})]}),e.jsxs(m,{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950 dark:to-orange-950 border-amber-200 dark:border-amber-800",children:[e.jsx(h,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{className:"text-lg font-semibold text-amber-900 dark:text-amber-100",children:"Monthly Sales"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-800",children:e.jsx(Ne,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})})]})}),e.jsxs(u,{children:[e.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100 mb-2",children:o(t.thisMonthSales)}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Current month"})]})]})]}),e.jsxs(m,{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 border-gray-200 dark:border-gray-700",children:[e.jsxs(h,{children:[e.jsx(g,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Search & Filter"}),e.jsx(_,{className:"text-gray-600 dark:text-gray-400",children:"Find and filter sales by date or search terms"})]}),e.jsx(u,{children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(te,{placeholder:"Search sales by ID, product, or date...",value:C,onChange:r=>A(r.target.value),className:"pl-10 h-12 text-base"})]}),e.jsx("div",{className:"w-full lg:w-48",children:e.jsxs($,{value:p,onValueChange:L,children:[e.jsx(U,{className:"h-12",children:e.jsx(H,{placeholder:"Date range"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Time"}),e.jsx(c,{value:"today",children:"Today"}),e.jsx(c,{value:"week",children:"This Week"}),e.jsx(c,{value:"month",children:"This Month"})]})]})})]})})]}),e.jsxs(m,{children:[e.jsxs(h,{children:[e.jsx(g,{className:"text-xl font-semibold",children:"Sales History"}),e.jsxs(_,{children:[s?.data.length||0," transaction",s?.data.length!==1?"s":""," found"]})]}),e.jsx(u,{children:s&&s.data.length>0?e.jsx("div",{className:"space-y-4",children:s.data.map(r=>e.jsxs("div",{className:"rounded-lg border p-6 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900",children:e.jsx(Q,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Sale #",r.id]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsxs("span",{children:[r.sale_items.length," ",r.sale_items.length===1?"item":"items"]})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:o(r.total_amount)}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs(d,{variant:"outline",size:"sm",className:"h-8 px-3",onClick:()=>z(r.id),children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),"View"]}),e.jsxs(d,{variant:"outline",size:"sm",className:"h-8 px-3",onClick:()=>j(r.id),children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),"Download"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Items in this sale:"}),r.sale_items.map(l=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 dark:bg-gray-800 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900",children:e.jsx(I,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.product_variant.product.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[V(l.product_variant)," • Qty: ",l.quantity]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:o(l.total_price)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o(l.unit_price)," each"]})]})]},l.id))]})]},r.id))}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:e.jsx(Q,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No sales found for this manager"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:C?"Try adjusting your search filters":"No sales have been recorded yet"})]})})]})]})]})}const De=Object.freeze(Object.defineProperty({__proto__:null,default:ke},Symbol.toStringTag,{value:"Module"}));export{Te as I,De as M};
