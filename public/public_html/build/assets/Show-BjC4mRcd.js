import{r as k,ay as w,j as e,af as C,q as P,aA as D,b3 as l,H as _,a7 as A}from"./vendor-react-NdMTiU_3.js";import{A as T,g as p,B as n,D as L,l as S,h as B,i as H,j as E,m as F,f as r,I as W,k as M,C as d,b as i,d as c,a as x,e as O}from"./dashboard-BRRSZ3Kr.js";import{L as j,T as $}from"./expenses-D7tWSJP3.js";import"./vendor-inertia-Uge9r9zn.js";import"./vendor-other-DeegM5Eu.js";import"./vendor-charts-wdNP6emn.js";function J({manager:t,wallet:a,payouts:u}){const[f,o]=k.useState(!1),{data:m,setData:h,post:N,processing:g,errors:b}=w({amount:"",notes:""}),v=[{title:"Manager Wallets",href:"/wallets"},{title:t.name,href:`/wallets/${t.id}`}],y=s=>{s.preventDefault(),N(`/wallets/${t.id}/payout`,{onSuccess:()=>{o(!1),h({amount:"",notes:""})}})};return e.jsxs(T,{breadcrumbs:v,children:[e.jsx(C,{title:`${t.name} - Wallet`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-8 overflow-x-auto rounded-xl p-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-950 dark:via-indigo-950 dark:to-purple-950 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-5 bg-[radial-gradient(circle_at_1px_1px,rgba(0,0,0,0.1)_1px,transparent_0)] bg-[length:20px_20px]"}),e.jsx("div",{className:"relative p-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg",children:e.jsx("span",{className:"text-2xl font-bold",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:t.email}),e.jsxs("div",{className:"mt-2 flex items-center space-x-3",children:[e.jsx(p,{variant:"outline",className:"text-sm px-3 py-1",children:"Manager"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Wallet Management"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{href:"/wallets",children:e.jsxs(n,{variant:"outline",size:"lg",className:"border-gray-300 dark:border-gray-600",children:[e.jsx(D,{className:"mr-2 h-5 w-5"}),"Back"]})}),a.balance>0&&e.jsxs(L,{open:f,onOpenChange:o,children:[e.jsx(S,{asChild:!0,children:e.jsxs(n,{size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:[e.jsx(l,{className:"mr-2 h-5 w-5"}),"Process Payout"]})}),e.jsxs(B,{className:"sm:max-w-md",children:[e.jsxs(H,{children:[e.jsx(E,{className:"text-xl",children:"Process Payout"}),e.jsxs(F,{className:"text-base",children:["Process a payout for ",e.jsx("span",{className:"font-semibold",children:t.name})]})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"rounded-lg bg-blue-50 dark:bg-blue-950 p-4",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Available balance: ",e.jsx("span",{className:"font-bold text-blue-900 dark:text-blue-100",children:r(a.balance)})]})}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"amount",className:"text-sm font-medium",children:"Amount"}),e.jsx(W,{id:"amount",type:"number",step:"0.01",min:"0.01",max:a.balance,value:m.amount,onChange:s=>h("amount",s.target.value),placeholder:"Enter payout amount",className:"mt-2"}),b.amount&&e.jsx("p",{className:"mt-1 text-sm text-destructive",children:b.amount})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (Optional)"}),e.jsx($,{id:"notes",value:m.notes,onChange:s=>h("notes",s.target.value),placeholder:"Add any notes about this payout",className:"mt-2"})]})]}),e.jsxs(M,{className:"mt-6",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(n,{type:"submit",disabled:g||!m.amount,className:"bg-green-600 hover:bg-green-700",children:g?"Processing...":"Process Payout"})]})]})]})]})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(d,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800",children:[e.jsx(i,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"Available Balance"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100 dark:bg-green-800",children:e.jsx(_,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})}),e.jsxs(x,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-900 dark:text-green-100 mb-2",children:r(a.balance)}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Ready for payout"}),a.balance>0&&e.jsxs("div",{className:"mt-3 flex items-center text-sm text-green-600 dark:text-green-400",children:[e.jsx("span",{className:"mr-1",children:"●"}),"Available for processing"]})]})]}),e.jsxs(d,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800",children:[e.jsx(i,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Total Earnings"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-800",children:e.jsx(A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})}),e.jsxs(x,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:r(a.total_earned)}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Lifetime commission earned"})]})]}),e.jsxs(d,{className:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-950 dark:to-violet-950 border-purple-200 dark:border-purple-800",children:[e.jsx(i,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"Total Paid Out"}),e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-800",children:e.jsx(l,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})}),e.jsxs(x,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100 mb-2",children:r(a.total_paid_out)}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Payouts processed"})]})]})]}),e.jsxs(d,{children:[e.jsxs(i,{children:[e.jsx(c,{className:"text-xl font-semibold",children:"Payment History"}),e.jsx(O,{children:"Complete transaction history for this manager"})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:u.data.length===0?e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:e.jsx(l,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No payments processed yet"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Payments will appear here once processed"})]}):u.data.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-100 dark:bg-green-900",children:e.jsx(l,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:["Payment #",s.id]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Processed by ",s.processed_by.name]}),s.notes&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',s.notes,'"']})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:r(s.amount)}),e.jsx(p,{variant:s.status==="completed"?"default":"secondary",className:"mt-1",children:s.status==="completed"?"Paid":s.status})]})]},s.id))})})]})]})]})}export{J as default};
