import{j as e,r as o,af as w,q as p,aA as C,b1 as y,aC as U,v as j}from"./vendor-react-NdMTiU_3.js";import{c as E,A as F,B as c,C as S,b as A,d as I,a as L,I as m}from"./dashboard-BRRSZ3Kr.js";import{L as n}from"./expenses-D7tWSJP3.js";import"./vendor-inertia-Uge9r9zn.js";import"./vendor-other-DeegM5Eu.js";import"./vendor-charts-wdNP6emn.js";function h({iconNode:t,className:a,...r}){return e.jsx(t,{className:E("h-4 w-4",a),...r})}function q({user:t}){const a=!!t,[r,f]=o.useState({name:t?.name||"",email:t?.email||"",password:"",role:t?.role||"manager"}),[i,x]=o.useState({}),[u,v]=o.useState(!1),g=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/users"},{title:a?"Edit User":"Create User",href:"#"}],N=async s=>{s.preventDefault(),v(!0),x({}),a?await j.put(`/users/${t.id}`,r):await j.post("/users",r)},l=(s,b)=>{f(d=>({...d,[s]:b})),i[s]&&x(d=>({...d,[s]:""}))};return e.jsxs(F,{breadcrumbs:g,children:[e.jsx(w,{title:a?"Edit User":"Create User"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:a?"Edit User":"Create User"}),e.jsx("p",{className:"text-muted-foreground",children:a?"Update user information":"Add a new user account"})]}),e.jsx(p,{href:"/users",children:e.jsxs(c,{variant:"outline",children:[e.jsx(h,{iconNode:C,className:"mr-2 h-4 w-4"}),"Back to Users"]})})]}),e.jsxs(S,{children:[e.jsx(A,{children:e.jsx(I,{children:"User Information"})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Full Name"}),e.jsx(m,{id:"name",value:r.name,onChange:s=>l("name",s.target.value),placeholder:"Enter full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email Address"}),e.jsx(m,{id:"email",type:"email",value:r.email,onChange:s=>l("email",s.target.value),placeholder:"Enter email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"password",children:["Password ",a&&"(leave blank to keep current)"]}),e.jsx(m,{id:"password",type:"password",value:r.password,onChange:s=>l("password",s.target.value),placeholder:a?"Enter new password":"Enter password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"role",children:"Role"}),e.jsxs("select",{id:"role",value:r.role,onChange:s=>l("role",s.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[e.jsx("option",{value:"manager",children:"Manager"}),e.jsx("option",{value:"admin",children:"Admin"})]}),i.role&&e.jsx("p",{className:"text-sm text-destructive",children:i.role})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(p,{href:"/users",children:e.jsx(c,{variant:"outline",type:"button",children:"Cancel"})}),e.jsx(c,{type:"submit",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(h,{iconNode:y,className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{iconNode:U,className:"mr-2 h-4 w-4"}),a?"Update User":"Create User"]})})]})]})})]})]})]})}export{q as default};
